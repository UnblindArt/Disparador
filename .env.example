# ============================================
# WHATSAPP DISPATCHER v2.0 - Environment Config
# ============================================

# ==================== APP ====================
NODE_ENV=production
PORT=3000
APP_NAME="WhatsApp Dispatcher"
APP_URL=http://localhost:3000

# ==================== SECURITY ====================
# Generate with: openssl rand -hex 64
JWT_SECRET=your_jwt_secret_here_128_chars
JWT_ACCESS_EXPIRATION=15m
JWT_REFRESH_EXPIRATION=7d

# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=your_encryption_key_here_64_chars

# CORS - Comma separated origins
CORS_ORIGINS=http://localhost:3000,https://yourdomain.com

# ==================== DATABASE ====================
# Supabase Connection
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_KEY=your_service_key

# Direct PostgreSQL (Supabase pooler)
DATABASE_URL=postgresql://postgres:[password]@db.[project].supabase.co:5432/postgres

# ==================== REDIS ====================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_MEMORY=512mb

# ==================== BULLMQ ====================
QUEUE_NAME=whatsapp-messages
QUEUE_CONCURRENCY=3
QUEUE_MAX_RETRY=3
QUEUE_BACKOFF_DELAY=60000

# ==================== EVOLUTION API ====================
EVOLUTION_API_URL=http://localhost:8080
EVOLUTION_API_KEY=your_evolution_api_key
EVOLUTION_INSTANCE_NAME=whatsapp-dispatcher

# ==================== WHATSAPP LIMITS ====================
WHATSAPP_MESSAGES_PER_SECOND=1
WHATSAPP_MESSAGES_PER_MINUTE=30
WHATSAPP_DAILY_LIMIT=1000
WHATSAPP_SESSION_TIMEOUT=300000
WHATSAPP_RETRY_AFTER_429=60000
WHATSAPP_MAX_MESSAGE_LENGTH=4096

# ==================== RATE LIMITING ====================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_LOGIN_MAX=5
RATE_LIMIT_LOGIN_WINDOW=3600000

# ==================== LGPD COMPLIANCE ====================
DATA_RETENTION_DAYS=90
LOGS_RETENTION_DAYS=90
ANONYMIZE_AFTER_DAYS=90
DATA_EXPORT_MAX_WAIT_HOURS=48
DATA_DELETE_MAX_WAIT_HOURS=72

# ==================== ADMIN USER ====================
ADMIN_EMAIL=apps@unblind.art
ADMIN_PASSWORD=change_me_in_production
ADMIN_PHONE=5547999524758

# ==================== NOTIFICATIONS ====================
NOTIFICATION_EMAIL=apps@unblind.art
NOTIFICATION_PHONE=5547999524758
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# ==================== FILE UPLOADS ====================
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf
UPLOAD_PATH=./uploads

# ==================== BACKUP ====================
BACKUP_ENABLED=true
BACKUP_INTERVAL=daily
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups

# ==================== MONITORING ====================
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# ==================== LOGS ====================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_CONSOLE_ENABLED=true

# ==================== CACHE ====================
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_CHECK_PERIOD=600

# ==================== SESSION ====================
SESSION_SECRET=your_session_secret_here
SESSION_MAX_AGE=86400000

# ==================== TESTING ====================
# Only for development/testing
TEST_PHONE_NUMBER=
TEST_MODE=false
